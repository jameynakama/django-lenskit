<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Admin Audit Report</title>
    <style>
      body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; margin: 2rem; }
      .tag { display: inline-block; padding: 2px 8px; border-radius: 9999px; font-size: 12px; color: #111; background: #eee; }
      .tag.warning { background: #fde68a; }
      .tag.error { background: #fecaca; }
      .group { margin-bottom: 1.5rem; }
      .issue { margin-left: 1rem; margin-top: 0.25rem; }
      h1 { font-size: 1.5rem; margin-bottom: 1rem; }
      h2 { font-size: 1.1rem; margin-top: 1rem; }
      code { background: #f7f7f7; padding: 0 4px; border-radius: 3px; }
    </style>
  </head>
  <body>
    <h1>Admin Audit Report</h1>
    {% for model_key, model_issues in grouped %}
      <div class="group">
        <h2>{{ model_key }}</h2>
        {% for issue in model_issues %}
          <div class="issue">
            <span class="tag {{ issue.severity }}">{{ issue.severity }}</span>
            <strong>{{ issue.code }}</strong> â€” {{ issue.message }}
            {% if issue.hint %}<div>Hint: {{ issue.hint }}</div>{% endif %}
          </div>
        {% endfor %}
      </div>
    {% empty %}
      <p>No issues found.</p>
    {% endfor %}
  </body>
  </html>
